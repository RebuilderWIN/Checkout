<%= link_to(t('.new', :default => raw("<i class='icon-plus-sign'></i> #{ t('helpers.links.new') }")),
            new_component_model_path,
            :class => 'btn btn-primary pull-right btn-new-component-model') if can? :manage, ComponentModel %>

<h1>Models</h1>

<%= paginate @component_models %>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Brand</th>
      <th>Model</th>
      <th>Description</th>
      <th>Count</th>
      <th colspan="2">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @component_models.each do |cm| %>
      <tr>
        <td><%= link_to cm.brand.name, brand_path(cm.brand) %></td>
        <td><%= link_to cm.name, component_model_path(cm) %></td>
        <td><%= cm.description %></td>
        <td><%= cm.kits.count %></td>
        <td class="action-buttons">
          <%= link_to('Reserve', new_component_model_reservation_path(:component_model_id => cm), :class => 'btn btn-mini') if cm.checkoutable? %>
        </td>
        <td class="action-buttons">
          <%= link_to('Edit', edit_component_model_path(cm), :class => 'btn btn-mini btn-edit-component-model') if can? :manage, ComponentModel %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @component_models %>
