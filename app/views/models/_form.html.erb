<div class="page-header">
  <h1><%= controller.action_name.capitalize %> Model</h1>
</div>

<div class="well">
  <p>
    <strong>Good model names</strong> should include specs, revisions, and model
    numbers.
  </p>

  <p>
    Examples of <em>bad</em> names:
  </p>

  <ul>
    <li>Mac Mini</li>
    <li>iPad</li>
    <li>Tripod</li>
    <li>VistaBeam</li>
  </ul>

  <p>Examples of <em>good</em> names:</p>
  <ul>
    <li>Mac Mini, 2.3GHz dual-core i5, 2GB RAM, 500GB HD</li>
    <li>iPad 2 16GB</li>
    <li>294 Aluminum 3-Section Tripod W/QR Ballhead</li>
    <li>VistaBeam 600 DMX One Light Kit</li>
  </ul>

  <p>
    If in doubt, cut and paste the name from an ecommerce site.
  </p>
</div>

<%= simple_form_for @model, :html => { :class => 'form-horizontal' } do |f| %>
<%= f.input :brand_id, :label => "Brand", :required => true, :input_html => {
      :class          => 'select2-json-autocomplete',
      :hidden         => true,
      "data-ajax-url" => brands_path(:format => :json),
      "data-text"     => f.object.try(:brand).try(:name)
    } %>
<div class="controls control-action">
  <a data-toggle="modal" href="#brand_modal">New Brand</a>
</div>
<%= f.input :name %>
<%= f.input :description %>
<%= f.input :training_required %>
<%= f.association :categories, :input_html => {
      :multiple => true,
      :class    => 'select2-tagged-field categories-select'
    } %>
<div class="controls control-action">
  <a data-toggle="modal" href="#category_modal">New Category</a>
</div>
<div class="form-actions">
  <%= f.submit nil, :class => 'btn btn-primary' %>
  <%= link_to 'Cancel', models_path, :class => 'btn' %>
</div>
<% end %>


<%#-- New Brand Modal Dialogue --#%>
<div class="modal fade hide" id="brand_modal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">×</button>
    <h3>New Brand</h3>
  </div>
  <div class="modal-body">
    <div class="hide alert alert-error">
      <a class="close" data-dismiss="alert">×</a>
      <span class="error-message"></span>
    </div>
    <%= simple_form_for Brand.new,
        :remote => true,
        :format => :json,
        :html => { :class => 'form-horizontal new-brand modal-form' } do |f| %>
      <%= f.input :name %>
      <div class="modal-footer">
        <%= link_to 'Cancel', '#', :class => 'btn', "data-dismiss" => "modal" %>
        <%= f.submit nil, :class => 'btn btn-primary modal-submit' %>
      </div>
    <% end %>
  </div>
</div>


<%#-- New Category Modal Dialogue --#%>
<div class="modal fade hide" id="category_modal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">×</button>
    <h3>New Category</h3>
  </div>
  <div class="modal-body">
    <div class="hide alert alert-error">
      <a class="close" data-dismiss="alert">×</a>
      <span class="error-message"></span>
    </div>
    <%= simple_form_for Category.new,
        :remote => true,
        :format => :json,
        :html => { :class => 'form-horizontal new-category modal-form' } do |f| %>
      <%= f.input :name %>
      <%= f.input :description, :input_html => {:rows => 4} %>
      <div class="modal-footer">
        <%= link_to 'Cancel', '#', :class => 'btn', "data-dismiss" => "modal" %>
        <%= f.submit nil, :class => 'btn btn-primary modal-submit' %>
      </div>
    <% end %>
  </div>
</div>
